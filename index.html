<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Milo ğŸŒ¸ Healthcare Assistant</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(to bottom right, #f8d7e8, #e0c3fc);
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

.chat-container {
  width: 360px;
  background: white;
  border-radius: 20px;
  padding: 15px;
  display: flex;
  flex-direction: column;
}

.header {
  background: linear-gradient(to right, #ff8ccf, #b28cff);
  color: white;
  padding: 12px;
  border-radius: 15px;
  text-align: center;
  font-weight: bold;
}

.chat-box {
  flex: 1;
  overflow-y: auto;
  padding: 10px;
}

.bot, .user {
  max-width: 75%;
  padding: 10px;
  border-radius: 15px;
  margin-bottom: 8px;
}

.bot {
  background: #fde6f2;
}

.user {
  background: #a78bfa;
  color: white;
  margin-left: auto;
}

.input-area {
  display: flex;
  gap: 5px;
}

input {
  flex: 1;
  padding: 10px;
  border-radius: 20px;
  border: none;
}

button {
  background: #ff6fb1;
  border: none;
  color: white;
  padding: 10px 15px;
  border-radius: 50%;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="chat-container">
  <div class="header">Milo ğŸŒ¸ Healthcare Assistant</div>
  <div class="chat-box" id="chatBox"></div>

  <div class="input-area">
    <input id="userInput" placeholder="Ask about health or just chat...">
    <button onclick="sendMessage()">â¤</button>
  </div>
</div>

<script>
const chatBox = document.getElementById("chatBox");

let lastTopic = "";
let askedQuestions = new Set();

addBot("Hi! Iâ€™m Milo ğŸŒ¸ I help with healthcare questions and casual chats ğŸ’–");

function addBot(text) {
  const div = document.createElement("div");
  div.className = "bot";
  div.innerText = text;
  chatBox.appendChild(div);
  chatBox.scrollTop = chatBox.scrollHeight;
}

function addUser(text) {
  const div = document.createElement("div");
  div.className = "user";
  div.innerText = text;
  chatBox.appendChild(div);
  chatBox.scrollTop = chatBox.scrollHeight;
}

function sendMessage() {
  const input = document.getElementById("userInput");
  const text = input.value.trim();
  if (!text) return;
  addUser(text);
  input.value = "";
  setTimeout(() => reply(text.toLowerCase()), 500);
}

function reply(text) {
  let response = "";

  const wantsMore = /more|tips|help|what should|how/.test(text);

  // Casual chat
  if (/hi|hello|hey/.test(text)) {
    response = "Heyy ğŸ’• How are you feeling today?";
  }

  // Stomach ache
  else if (/stomach|pain|ache/.test(text)) {
    lastTopic = "stomach";
    response = "That sounds uncomfortable ğŸ’— Stomach aches are often caused by food issues, gas, or stress.";
  }

  // Fever
  else if (/fever|temperature/.test(text)) {
    lastTopic = "fever";
    response = "Fever usually means your body is fighting something ğŸŒ¡ï¸ Rest and hydration help.";
  }

  // Cold
  else if (/cold|cough|sneeze/.test(text)) {
    lastTopic = "cold";
    response = "Colds are common ğŸ¤§ They usually improve with rest and warm fluids.";
  }

  // Follow-ups (NO repetition)
  else if (wantsMore && lastTopic === "stomach") {
    response = "For stomach pain ğŸ’• eat bland foods, avoid oily meals, drink warm water, and rest.";
  }
  else if (wantsMore && lastTopic === "fever") {
    response = "For fever ğŸ’• drink plenty of fluids, rest, and monitor temperature.";
  }
  else if (wantsMore && lastTopic === "cold") {
    response = "For cold ğŸ’• steam inhalation, warm fluids, and adequate sleep help a lot.";
  }

  // Emotional / casual
  else if (/sad|tired|stress/.test(text)) {
    response = "Iâ€™m here ğŸ’— Want to talk about whatâ€™s making you feel this way?";
  }

  // Goodbye
  else if (/bye|thanks/.test(text)) {
    response = "Take care ğŸ«¶ Feel better soon!";
  }

  // Smart fallback (never repeats)
  else {
    response = "Iâ€™m listening ğŸ’– You can tell me symptoms, ask for tips, or just chat.";
  }

  addBot(response);
}
</script>

</body>
</html>


